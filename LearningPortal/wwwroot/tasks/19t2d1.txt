Два игрока, Петя и Ваня, играют в следующую игру. Перед игроками лежит куча камней. Игроки ходят по очереди, первый ход делает Петя. В игре разрешено делать следующие ходы:
— убрать из кучи один камень;
— если количество камней в куче чётно, убрать половину имеющегося количества;
— если количество камней в куче кратно трём, убрать треть имеющегося количества.
Например, если в куче 4 камня, то за один ход можно получить 2 или 3 камня, а если в куче 6 камней, то за один ход можно получить 3, 4 или 5 камней.
Игра завершается, когда количество камней в куче становится меньше 12.
Победителем считается игрок, сделавший последний ход, то есть первым получивший кучу, в которой будет меньше 12 камней.
В начале игры в куче было S камней, S ≥ 12.
Укажите максимальное значение S, при котором Петя не может выиграть первым ходом, но при любом первом ходе Пети Ваня может выиграть своим первым ходом.
Ответ: 23.